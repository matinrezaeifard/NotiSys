const _0x485bed=_0x4be5;function _0x2c17(){const _0x39f914=['stringify','term-row','textContent','#current-term\x20p','957933GsGMvA','/api/users/del/','saturday','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','/api/users','addEventListener','797768XKyMBx','find','preventDefault','password','\x27)\x22>','#expert-password','2627010ccuSIy','createElement','add-user-form','button','delete','click','inputNewTerm','error','/api/terms/end','name','wednsday','#user-group','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20','noActiveTerm','confirmActivateTerm','</button></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','DELETE','className','1368339xaZIxt','8916qnZZjK','submit','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pass-','then','map','passwordChanged','555RXENdW','querySelector','div','application/json','thursday','\x22\x20value=','passwordPlaceholder','<option\x20value=\x22','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22updateUserPassword(\x27','98JeUwmr','POST','109666hsoeJd','/password','appendChild','GET','getElementById','noGroup','toLocaleDateString','json','/api/terms','userDeleted','termDeleted','termActivated','innerHTML','1363615tnrIYW','forEach','termNotFound','group_id','value','monday','change','addUserSuccess','end-term','confirmDeleteTerm','target','/api/terms/activate','confirmEndTerm','datetime','connectionFailed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><button\x20onclick=\x22deleteUser(\x27','toLocaleTimeString','activate','\x22\x20type=\x22password\x22\x20placeholder=\x22','getDay','fa-IR','disabled','username','is_active','reset','PUT','status','trim','userExists','friday','\x20-\x20','خطا\x20در\x20اتصال\x20به\x20سرور:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','en-US','serverResponseError','term-list'];_0x2c17=function(){return _0x39f914;};return _0x2c17();}function _0x4be5(_0x503a70,_0x901937){const _0x2c176a=_0x2c17();return _0x4be5=function(_0x4be536,_0x4b7817){_0x4be536=_0x4be536-0x1ae;let _0x21d98a=_0x2c176a[_0x4be536];return _0x21d98a;},_0x4be5(_0x503a70,_0x901937);}(function(_0x13970b,_0x2bb62c){const _0x4f9894=_0x4be5,_0x3c54c6=_0x13970b();while(!![]){try{const _0x21e7cb=-parseInt(_0x4f9894(0x1bb))/0x1+-parseInt(_0x4f9894(0x1ae))/0x2+parseInt(_0x4f9894(0x202))/0x3+-parseInt(_0x4f9894(0x203))/0x4*(parseInt(_0x4f9894(0x209))/0x5)+parseInt(_0x4f9894(0x1f0))/0x6+-parseInt(_0x4f9894(0x212))/0x7*(-parseInt(_0x4f9894(0x1ea))/0x8)+parseInt(_0x4f9894(0x1e4))/0x9;if(_0x21e7cb===_0x2bb62c)break;else _0x3c54c6['push'](_0x3c54c6['shift']());}catch(_0x214533){_0x3c54c6['push'](_0x3c54c6['shift']());}}}(_0x2c17,0xb25f4));let allGroups;function updateTime(){const _0x1bdd59=_0x4be5,_0x46b4c7=new Date(),_0x3bf2da=[translate[lang]['sunday'],translate[lang][_0x1bdd59(0x1c0)],translate[lang]['tuesday'],translate[lang][_0x1bdd59(0x1fa)],translate[lang][_0x1bdd59(0x20d)],translate[lang][_0x1bdd59(0x1d9)],translate[lang][_0x1bdd59(0x1e6)]],_0x549189=_0x3bf2da[_0x46b4c7[_0x1bdd59(0x1cf)]()],_0x4471e1=lang==='fa'?_0x1bdd59(0x1d0):_0x1bdd59(0x1dd),_0x4d7657=_0x46b4c7[_0x1bdd59(0x1b4)](_0x4471e1),_0x432031=_0x46b4c7[_0x1bdd59(0x1cc)](_0x4471e1);document[_0x1bdd59(0x1b2)](_0x1bdd59(0x1c8))[_0x1bdd59(0x1e2)]=_0x549189+'،\x20'+_0x4d7657+_0x1bdd59(0x1da)+_0x432031;}async function _initGroups(){const _0xf0c76a=_0x4be5,{groups:_0x1003bf}=await loadGroups();allGroups=_0x1003bf;const _0x1aed06=document[_0xf0c76a(0x20a)](_0xf0c76a(0x1fb));_0x1aed06[_0xf0c76a(0x1ba)]=allGroups[_0xf0c76a(0x207)](_0x2925a6=>_0xf0c76a(0x210)+_0x2925a6['id']+'\x22>'+_0x2925a6[_0xf0c76a(0x1f9)]+'</option>')['join']('');}function deleteUser(_0x2154ef){const _0x215c55=_0x4be5;showYesOrNoAlert(translate[lang]['confirmDeleteUser'])[_0x215c55(0x206)](async _0xf260c6=>{const _0x3f3fe4=_0x215c55;if(!_0xf260c6)return;try{const _0xfc0197=await fetch(_0x3f3fe4(0x1e5)+encodeURIComponent(_0x2154ef),{'method':_0x3f3fe4(0x200)});if(_0xfc0197['ok'])showInfoAlert(translate[lang][_0x3f3fe4(0x1b7)]),await _initUsers();else{if(_0xfc0197['status']===0x194)showInfoAlert(translate[lang]['userNotFound']);else throw new Error(translate[lang][_0x3f3fe4(0x1de)]);}}catch(_0x247ea7){console['error'](_0x3f3fe4(0x1db),_0x247ea7),showInfoAlert(translate[lang]['connectionFailed']);}});}function updateUserPassword(_0x30c6ec){const _0x2d6a93=_0x4be5;showYesOrNoAlert(translate[lang]['confirmChangePassword'])[_0x2d6a93(0x206)](async _0x15d556=>{const _0x8631dd=_0x2d6a93;if(!_0x15d556)return;const _0x464c11=document[_0x8631dd(0x1b2)]('pass-'+_0x30c6ec),_0x9fec60=_0x464c11[_0x8631dd(0x1bf)][_0x8631dd(0x1d7)]();try{const _0x87f19a=await fetch('/api/users/update/'+encodeURIComponent(_0x30c6ec)+_0x8631dd(0x1af),{'method':_0x8631dd(0x1d5),'headers':{'Content-Type':_0x8631dd(0x20c)},'body':JSON[_0x8631dd(0x1e0)]({'password':_0x9fec60})});if(_0x87f19a['ok'])showInfoAlert(translate[lang][_0x8631dd(0x208)]);else{if(_0x87f19a[_0x8631dd(0x1d6)]===0x194)showInfoAlert(translate[lang]['userNotFound']);else throw new Error(translate[lang]['serverResponseError']);}}catch(_0x54fb4c){console[_0x8631dd(0x1f7)](_0x8631dd(0x1db),_0x54fb4c),showInfoAlert(translate[lang][_0x8631dd(0x1c9)]);}});}document[_0x485bed(0x1b2)](_0x485bed(0x1f2))[_0x485bed(0x1e9)](_0x485bed(0x204),async _0x3c9db3=>{const _0x5ec420=_0x485bed;_0x3c9db3[_0x5ec420(0x1ec)]();const _0x3b3db0=_0x3c9db3[_0x5ec420(0x1c5)][_0x5ec420(0x20a)]('#expert-username')[_0x5ec420(0x1bf)][_0x5ec420(0x1d7)](),_0x169f8b=_0x3c9db3[_0x5ec420(0x1c5)][_0x5ec420(0x20a)](_0x5ec420(0x1ef))[_0x5ec420(0x1bf)][_0x5ec420(0x1d7)](),_0x4584fd=_0x3c9db3[_0x5ec420(0x1c5)][_0x5ec420(0x20a)](_0x5ec420(0x1fb))['value'];try{const _0x2ec280=await fetch('/api/users/add',{'method':_0x5ec420(0x213),'headers':{'Content-Type':'application/json'},'body':JSON[_0x5ec420(0x1e0)]({'username':_0x3b3db0,'password':_0x169f8b,'group':_0x4584fd})});if(_0x2ec280['ok'])showInfoAlert(translate[lang][_0x5ec420(0x1c2)]),await _initUsers();else{if(_0x2ec280[_0x5ec420(0x1d6)]===0x199)showInfoAlert(translate[lang][_0x5ec420(0x1d8)]);else throw new Error(translate[lang][_0x5ec420(0x1de)]);}_0x3c9db3[_0x5ec420(0x1c5)][_0x5ec420(0x1d4)]();}catch(_0x168892){console[_0x5ec420(0x1f7)](_0x5ec420(0x1db),_0x168892),showInfoAlert(translate[lang][_0x5ec420(0x1c9)]);}});async function loadUsers(){const _0x355e4=_0x485bed;try{const _0x44ef2c=await fetch(_0x355e4(0x1e8),{'method':_0x355e4(0x1b1)});if(!_0x44ef2c['ok'])throw new Error(translate[lang]['serverResponseError']);return _0x44ef2c['json']();}catch(_0x27c3dd){console['error'](_0x355e4(0x1db),_0x27c3dd),showInfoAlert(translate[lang]['connectionFailed']);}}async function _initUsers(){const _0x5230cc=_0x485bed,{users:_0x1f1139}=await loadUsers(),_0x1ef520=document['querySelector']('#users-table\x20tbody');_0x1ef520[_0x5230cc(0x1ba)]='',_0x1f1139['forEach'](_0x4adae1=>{const _0x13dc85=_0x5230cc,_0x2cbf37=document[_0x13dc85(0x1f1)]('tr');_0x2cbf37[_0x13dc85(0x1ba)]=_0x13dc85(0x1dc)+_0x4adae1['username']+_0x13dc85(0x1e7)+(allGroups[_0x13dc85(0x1eb)](_0x52dbd5=>_0x52dbd5['id']===_0x4adae1[_0x13dc85(0x1be)])?.[_0x13dc85(0x1f9)]||translate[lang][_0x13dc85(0x1b3)])+_0x13dc85(0x205)+_0x4adae1[_0x13dc85(0x1d2)]+_0x13dc85(0x1ce)+translate[lang][_0x13dc85(0x20f)]+_0x13dc85(0x20e)+_0x4adae1[_0x13dc85(0x1ed)]+_0x13dc85(0x211)+_0x4adae1[_0x13dc85(0x1d2)]+_0x13dc85(0x1ee)+translate[lang][_0x13dc85(0x1c1)]+_0x13dc85(0x1cb)+_0x4adae1[_0x13dc85(0x1d2)]+_0x13dc85(0x1ee)+translate[lang][_0x13dc85(0x1f4)]+_0x13dc85(0x1ff),_0x1ef520['appendChild'](_0x2cbf37);});}const endBtn=document[_0x485bed(0x1b2)](_0x485bed(0x1c3));function deleteTerm(_0x778864,_0x1d90a7){const _0x33d3d3=_0x485bed;showYesOrNoAlert(translate[lang][_0x33d3d3(0x1c4)])['then'](async _0x53e8a6=>{const _0x34d22b=_0x33d3d3;if(!_0x53e8a6)return;try{const _0x3fa62f=await fetch('/api/terms/delete',{'method':_0x34d22b(0x200),'headers':{'Content-Type':'application/json'},'body':JSON[_0x34d22b(0x1e0)]({'id':_0x1d90a7})});if(_0x3fa62f['ok'])showInfoAlert(translate[lang][_0x34d22b(0x1b8)]),await _initTerms();else{if(_0x3fa62f[_0x34d22b(0x1d6)]===0x190)showInfoAlert(translate[lang]['cannotDeleteActiveTerm']);else{if(_0x3fa62f[_0x34d22b(0x1d6)]===0x194)showInfoAlert(translate[lang][_0x34d22b(0x1bd)]);else throw new Error(translate[lang]['serverResponseError']);}}}catch(_0x5dc5dc){console[_0x34d22b(0x1f7)](_0x34d22b(0x1db),_0x5dc5dc),showInfoAlert(translate[lang][_0x34d22b(0x1c9)]);}});}endBtn[_0x485bed(0x1e9)](_0x485bed(0x1f5),()=>{const _0xf1e53e=_0x485bed;showYesOrNoAlert(translate[lang][_0xf1e53e(0x1c7)])[_0xf1e53e(0x206)](async _0x10bf99=>{const _0x167272=_0xf1e53e;if(!_0x10bf99)return;try{const _0x156dd1=await fetch(_0x167272(0x1f8),{'method':_0x167272(0x1b1)});if(!_0x156dd1['ok'])throw new Error(translate[lang][_0x167272(0x1de)]);await _initTerms();}catch(_0x3df0dd){console['error']('خطا\x20در\x20اتصال\x20به\x20سرور:\x20',_0x3df0dd),showInfoAlert(translate[lang]['connectionFailed']);}});});function activateTerm(_0x2cf891,_0xa16742){const _0x15ac23=_0x485bed;showYesOrNoAlert(translate[lang][_0x15ac23(0x1fe)])[_0x15ac23(0x206)](async _0x262621=>{const _0x576a38=_0x15ac23;if(!_0x262621)return;try{const _0x2d456b=await fetch(_0x576a38(0x1c6),{'method':'POST','headers':{'Content-Type':_0x576a38(0x20c)},'body':JSON[_0x576a38(0x1e0)]({'id':_0xa16742})});if(_0x2d456b['ok'])showInfoAlert(translate[lang][_0x576a38(0x1b9)]),await _initTerms();else throw new Error(translate[lang][_0x576a38(0x1de)]);}catch(_0x182ce5){console['error'](_0x576a38(0x1db),_0x182ce5),showInfoAlert(translate[lang][_0x576a38(0x1c9)]);}});}document[_0x485bed(0x1b2)]('new-term')[_0x485bed(0x1e9)](_0x485bed(0x1f5),()=>{const _0x4253da=_0x485bed;showInputAlert(translate[lang][_0x4253da(0x1f6)])['then'](async _0xf8f7c9=>{const _0x595c6b=_0x4253da;if(!_0xf8f7c9)return;try{const _0x7e4f3c=await fetch('/api/terms/new',{'method':_0x595c6b(0x213),'headers':{'Content-Type':_0x595c6b(0x20c)},'body':JSON[_0x595c6b(0x1e0)]({'name':_0xf8f7c9})});if(_0x7e4f3c['status']===0xc9)showInfoAlert(translate[lang]['termCreated']),await _initTerms();else throw new Error(translate[lang][_0x595c6b(0x1de)]);}catch(_0x449c14){console[_0x595c6b(0x1f7)](_0x595c6b(0x1db),_0x449c14),showInfoAlert(translate[lang][_0x595c6b(0x1c9)]);}});});async function loadTerms(){const _0x4962fb=_0x485bed;try{const _0x5064e7=await fetch(_0x4962fb(0x1b6));if(!_0x5064e7['ok'])throw new Error(translate[lang][_0x4962fb(0x1de)]);return _0x5064e7[_0x4962fb(0x1b5)]();}catch(_0x37be55){console['error'](_0x4962fb(0x1db),_0x37be55),showInfoAlert(translate[lang][_0x4962fb(0x1c9)]);}}async function _initTerms(){const _0x190739=_0x485bed,{terms:_0x44d57b}=await loadTerms(),_0x35b414=document['querySelector'](_0x190739(0x1e3));_0x35b414[_0x190739(0x1e2)]=_0x44d57b[_0x190739(0x1eb)](_0x33a6f8=>_0x33a6f8[_0x190739(0x1d3)]===0x1)?.['name']||translate[lang][_0x190739(0x1fd)],endBtn['disabled']=_0x35b414[_0x190739(0x1e2)]===translate[lang]['noActiveTerm'];const _0x58c6e7=document[_0x190739(0x1b2)](_0x190739(0x1df));_0x58c6e7[_0x190739(0x1ba)]='',_0x44d57b[_0x190739(0x1bc)](_0x5a7dac=>{const _0x1283fc=_0x190739,_0x19dbdc=document[_0x1283fc(0x1f1)](_0x1283fc(0x20b));_0x19dbdc[_0x1283fc(0x201)]=_0x1283fc(0x1e1),_0x19dbdc[_0x1283fc(0x1ba)]=_0x1283fc(0x1ca)+_0x5a7dac[_0x1283fc(0x1f9)]+_0x1283fc(0x1fc)+(_0x5a7dac[_0x1283fc(0x1d3)]===0x1?_0x1283fc(0x1d1):'')+'>'+translate[lang][_0x1283fc(0x1cd)]+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22deleteTerm(\x27'+_0x5a7dac[_0x1283fc(0x1f9)]+'\x27,\x20\x27'+_0x5a7dac['id']+_0x1283fc(0x1ee)+translate[lang][_0x1283fc(0x1f4)]+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x19dbdc[_0x1283fc(0x20a)](_0x1283fc(0x1f3))[_0x1283fc(0x1e9)]('click',()=>activateTerm(_0x5a7dac[_0x1283fc(0x1f9)],_0x5a7dac['id'])),_0x58c6e7[_0x1283fc(0x1b0)](_0x19dbdc);});}((async()=>{await _initGroups(),await _initUsers(),await _initTerms(),updateTime(),setInterval(updateTime,0x3e8);})());